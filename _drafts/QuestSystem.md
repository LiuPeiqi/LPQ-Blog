---
layout: draft
title: "客服端程序员视角下的任务系统"
date: 2019-04-29
tags: "Game Design"
---

## 任务是什么

我理解的“任务”这个概念可能会对应到包括不限于Task, Mission, Quest这些名词中。如果广义上游戏是对世界的抽象，那么任务就是这个抽象世界里玩家出生、成长、发挥影响力过程中一个又一个的普世目标和存在意义。一方面玩家不得不完成它，另一方面玩家完成了它又会获得这个抽象世界的普世认可。如果狭义上游戏，尤其是RPG游戏，是一个故事，那么任务就是这个故事中一条或多条故事线上的（时间、事件、状态）节点，或驱动后记录玩家历程。

## 当前任务系统有什么

基于以上假设，当前我们游戏中的任务系统包含哪些元素呢？

1. 剧情，这天然是任务系统里的核心元素。
1. 指引，这个比较复杂，它可以是剧情中的一部分，由剧情的串联使玩家建立起对自己角色所拥有能力的认知。又或是游戏本身自己的目标，有义务必须让玩家知道这个抽象世界能做什么。
1. 日常，宏大或遥远的目标容易望而却步，短小重复但重点是积累能力与变化由量变产生质变的目标适宜达成。
1. 平台期目标，类似于日常，但跨度长了一些，需要几天才能完成的，具有一定的方向性指导。
1. 随机任务，际遇，枯燥世界中的小巧合，增加玩家探索的新鲜感。
1. 合作任务，事件任务，如果说以上的任务都是自己与世界之间的关系，那么合作任务是群体参与改造世界的表现。增加玩家之间的参与感以及互动。

## 哪些系统涉及到了任务系统

有哪些系统和任务系统是有关联的，并且它们是如何产生关联的呢？

1. 指引和解锁。与其说这两个系统跟任务有关联，不如说这两个系统依赖一个确切的时间点以及记录进度和状态的能力，恰好任务满足了这两个要求。
1. 探索、调查和对话。需要记录进度和状态的能力，以及奖励玩家探索的行为。
1. 成就和声望。这两个是跟任务双向关联的系统，或者，这两个系统其实就是任务系统，理论上不应该独立出现。
1. 怪物召唤。利用任务接取，召唤一个只有主角能看到的NPC，以满足剧情等需要。理论上这应该是一个副本功能，但是要在大地图上实现所以这样折中。它存在的问题是如果是只有主角能看到这个NPC，那么其他玩家则会看到主角与看不到的NPC战斗、交互的怪异行为。楚留香、完美世界等游戏对这种需求的处理是在大地图中进入副本区域，问题是进入与退出时NPC状态的衔接不流畅。
1. NPC显隐。为剧情状态服务。
1. 动画播放。任务播放动画，动画播放接取任务。相互利用状态与时间点，经常遇到的问题是在断线重连时，应该以谁为基准重置另一个的状态。
1. 目标追踪、高亮。
1. 主角的助手（机器人）。以任务接取或完成的时间点驱动助手播放对应的行为。

## 当前任务系统的设计

### 遇到的困难

1. 逻辑复杂，类型多，条件多，表现多。
1. 与其他配表耦合度非常高，常常牵一发而动全身。
1. 潜规则多
1. 策划与程序改动的冲突

### 设计缺陷

### 工具与流程问题

### 来自于程序方面的问题

1. 浪费
1. 优化或过早的优化

## 如果能重来

### 如何简化任务系统的设计

### 如何组合出复杂表现

### 基础逻辑与表现封装

### 奖励与奖励预览

### 追踪与关键信息提示

## 总结